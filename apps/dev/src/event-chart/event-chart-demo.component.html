<h2>Event Chart</h2>
<br />
<br />
<br />

<dt-event-chart>
  <dt-event-chart-field
    *ngFor="let field of _heatfields"
    [start]="field.start"
    [end]="field.end"
    [color]="field.color"
    [data]="field.data"
  >
  </dt-event-chart-field>

  <dt-event-chart-event
    *ngFor="let event of _events"
    [value]="event.value"
    [duration]="event.duration"
    [lane]="event.lane"
    [color]="event.color"
    (selected)="logSelected($event)"
    [data]="event.data"
  >
  </dt-event-chart-event>
  <dt-event-chart-lane
    *ngFor="let lane of _lanes"
    [name]="lane.name"
    [label]="lane.label"
    [color]="lane.color"
  ></dt-event-chart-lane>

  <dt-event-chart-legend-item
    *ngFor="let item of _legendItems"
    [lanes]="item.lanes"
    >{{ item.label }}</dt-event-chart-legend-item
  >
  <dt-event-chart-legend-item [lanes]="['0', '1', '2']" hasDuration>
    This is a duration Legend
  </dt-event-chart-legend-item>

  <dt-event-chart-legend-item [lanes]="['0', '1', '2']" color="error">
    This is an error legend
  </dt-event-chart-legend-item>

  <ng-template dtEventChartOverlay let-tooltip>
    <div *ngFor="let t of tooltip">
      <p>{{ t.data.name }}</p>
      <dt-key-value-list>
        <dt-key-value-list-item>
          <dt-key-value-list-key>Type</dt-key-value-list-key>
          <dt-key-value-list-value>{{ t.data.type }}</dt-key-value-list-value>
        </dt-key-value-list-item>
      </dt-key-value-list>
    </div>
  </ng-template>

  <ng-template dtEventChartHeatfieldOverlay let-tooltip>
    <div *ngFor="let t of tooltip">
      <p>Page {{ t.data.page }}</p>
      <dt-key-value-list>
        <dt-key-value-list-item>
          <dt-key-value-list-key>Page</dt-key-value-list-key>
          <dt-key-value-list-value>{{ t.data.page }}</dt-key-value-list-value>
        </dt-key-value-list-item>
        <dt-key-value-list-item>
          <dt-key-value-list-key>Page group</dt-key-value-list-key>
          <dt-key-value-list-value>{{
            t.data.pageGroup
          }}</dt-key-value-list-value>
        </dt-key-value-list-item>
      </dt-key-value-list>
    </div>
  </ng-template>
</dt-event-chart>

<div class="demo-controls">
  <dt-form-field class="demo-control-ds">
    <dt-label>Select a Data Source</dt-label>
    <dt-select [(ngModel)]="_selectedDataSet">
      <dt-option *ngFor="let dataSet of _dataSets" [value]="dataSet">{{
        dataSet.key
      }}</dt-option>
    </dt-select>
  </dt-form-field>
</div>
